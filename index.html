<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trailer Trip Tracker - Maguna Andu</title>
  <link rel="stylesheet" href="style1.css" />
</head>
<body>
  <header>
    <h1><strong>Maguna Andu Trailer Trip Tracker</strong></h1>
    <p>Monthly Summary & Performance Report</p>
  </header>

  <main>
    <button class="print-btn" onclick="window.print()">üñ®Ô∏è Print Report</button>

    <div class="godown">
      <h2><strong>MURANGA GODOWN</strong></h2>

      <table class="over10">
        <thead>
          <tr><th colspan="3">Trucks with 10 or More Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <table class="under10">
        <thead>
          <tr><th colspan="4">Trucks with Less than 10 Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th><th>Comment</th></tr>
        </thead>
        <tbody>
    <tr>
          <td>KAW 961V</td>
          <td>JOSEPH CHEGE</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KBW 803A</td>
          <td>JOHN MURIUKI GITERU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KBW 660X</td>
          <td>FESTUS MAINA NJOGU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KCC 278G</td>
          <td>PETER NJOROGE WAWERU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KCG 867R</td>
          <td>JOHN MAINA MWANGI</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KCG 869R</td>
          <td>MOSES RURENGO IRUNGU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KCZ 127L</td>
          <td>JOHN MWANGI WAWERU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KCX 247D</td>
          <td>JAMES THUKU GATHUTHI</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDA 025L</td>
          <td>ERNEST KARANJA NJOROGE</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDA 098N</td>
          <td>STEPHEN KINYEKI</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDL 332J</td>
          <td>MARTIN MWATHA WAITHERA</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDL 335J</td>
          <td>GEOFFREY MURITU MAINA</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDL 336J</td>
          <td>FRANCIS MACHARIA</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KBK 596S</td>
          <td>BENSON NJOROGE</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
</tbody></table></div>
    <div class="godown">
      <h2><strong>MAKUTANO GODOWN</strong></h2>

      <table class="over10">
        <thead>
          <tr><th colspan="3">Trucks with 10 or More Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <table class="under10">
        <thead>
          <tr><th colspan="4">Trucks with Less than 10 Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th><th>Comment</th></tr>
        </thead>
        <tbody>
    <tr>
          <td>KCY 008C</td>
          <td>FRANCIS CHEGE</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDA 036L</td>
          <td>ALEX NJUGUNA KINYANJUI</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KCC 282G</td>
          <td>STEPHEN NJOGU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KBN 581V</td>
          <td>JOHN MACHARIA NJOROGE</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KBY 490A</td>
          <td>SAMSON NJOROGE WANJIRU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KBY 480A</td>
          <td>BEN MWANGI MBOGO </td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
</tbody></table></div>
    <div class="godown">
      <h2><strong>MERU GODOWN</strong></h2>

      <table class="over10">
        <thead>
          <tr><th colspan="3">Trucks with 10 or More Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <table class="under10">
        <thead>
          <tr><th colspan="4">Trucks with Less than 10 Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th><th>Comment</th></tr>
        </thead>
        <tbody>
    <tr>
          <td>KDL 151J</td>
          <td>EDWARD MUGUONGO KUNGU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDL 152J</td>
          <td>ERICKSON KABIRI</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDL 321J</td>
          <td>JAMES MWANGI KAMAU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDA 105N</td>
          <td>KAMAU MAINA</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDL 329J</td>
          <td>JAMES MBURU NJERI</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KCX 243D</td>
          <td>LUKA JOHN SANGAWA</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
</tbody></table></div>
    <div class="godown">
      <h2><strong>BABADOGO GODOWN</strong></h2>

      <table class="over10">
        <thead>
          <tr><th colspan="3">Trucks with 10 or More Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <table class="under10">
        <thead>
          <tr><th colspan="4">Trucks with Less than 10 Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th><th>Comment</th></tr>
        </thead>
        <tbody>
    <tr>
          <td>KDM 316H</td>
          <td>LEWIS MWITI</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
</tbody></table></div>
    <div class="godown">
      <h2><strong>KITUI GODOWN</strong></h2>

      <table class="over10">
        <thead>
          <tr><th colspan="3">Trucks with 10 or More Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <table class="under10">
        <thead>
          <tr><th colspan="4">Trucks with Less than 10 Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th><th>Comment</th></tr>
        </thead>
        <tbody>
    <tr>
          <td>KCC 280G</td>
          <td>JOSEPH MACHARIA MUGWE</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
</tbody></table></div>
    <div class="godown">
      <h2><strong>NAKURU GODOWN</strong></h2>

      <table class="over10">
        <thead>
          <tr><th colspan="3">Trucks with 10 or More Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th></tr>
        </thead>
        <tbody></tbody>
      </table>

      <table class="under10">
        <thead>
          <tr><th colspan="4">Trucks with Less than 10 Trips</th></tr>
          <tr><th>Number Plate</th><th>Driver</th><th>Trips</th><th>Comment</th></tr>
        </thead>
        <tbody>
    <tr>
          <td>KDM 318H</td>
          <td>AMOS MUIRURI</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDM 317H</td>
          <td>JOHN MURITHII KURIA</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDM 319H</td>
          <td>SAMUEL MWANGI NGUMO</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDM 315H</td>
          <td>PAUL NDERITU</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
<tr>
          <td>KDM 314H</td>
          <td>GERALD MUHINDI GAKUNGA</td>
          <td><input class="trips-input" type="number" min="0" value="0" style="width:60px;" /></td>
          <td><input type="text" style="width: 100%;" /></td>
        </tr>
</tbody></table></div>
  </main>
  <footer>
    &copy; 2025 Maguna Andu Logistics. All rights reserved.
  </footer>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const updateTables = () => {
    document.querySelectorAll(".godown").forEach(godown => {
      const over10 = godown.querySelector(".over10 tbody");
      const under10 = godown.querySelector(".under10 tbody");
      const allRows = [...over10.querySelectorAll("tr"), ...under10.querySelectorAll("tr")];

      allRows.forEach(row => {
        const tripsInput = row.querySelector(".trips-input");
        const trips = parseInt(tripsInput?.value || "0");
        const currentTable = row.closest("table");
        const shouldBeOver10 = trips >= 10;

        if (shouldBeOver10 && !currentTable.classList.contains("over10")) {
          over10.appendChild(row);
        } else if (!shouldBeOver10 && !currentTable.classList.contains("under10")) {
          under10.appendChild(row);
        }
      });
    });
  };

  setInterval(updateTables, 1500);
});
</script>
<!-- Save Button -->
<div style="text-align: center; margin: 40px 0;">
  <button class="save-btn" onclick="saveTrips()">üíæ Save to Server</button>
</div>
<script>
function saveTrips() {
  // Collect your trip data here ‚Äì this depends on how your table inputs are set up
  // Here's a basic example assuming you‚Äôve already collected the data:
  const tripData = [];

  document.querySelectorAll('.trip-row').forEach(row => {
    tripData.push({
      godown: row.dataset.godown,
      number_plate: row.querySelector('.number-plate').value,
      driver_name: row.querySelector('.driver-name').value,
      trips: row.querySelector('.trips').value,
      comment: row.querySelector('.comment').value,
      month_year: document.getElementById('monthYear').value || 'July 2025'
    });
  });

  // Send to PHP via fetch
  fetch('save_trips.php', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(tripData)
  })
  .then(response => response.text())
  .then(data => {
    alert(data); // Should say "Data saved successfully."
  })
  .catch(error => {
    console.error('Error:', error);
    alert("Something went wrong while saving.");
  });
}
</script>

</body>
</html>
